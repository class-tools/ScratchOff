# ScratchOff 版本命名规则

这个文档仅支持语言 `zh-Hans`。

## 开源版本

开源版本的版本号为 `[Major].[Minor].[Release]-[Type].[x]`。

- `Major`：大版本更新，如重构代码等。
- `Minor`：功能更新，如添加一些功能。
- `Release`：错误修复，如修一个锅。
- `Type.x`：测试版或补丁发布时会带有 `Type`，`x` 为第 `x` 个 `Type`。
  - `alpha`：预览版本，有可能不稳定，也称 α 版。
  - `beta`：测试版本，较 α 稳定，也称 β 版。
  - `rc`：预发布版本，较 β 稳定，与正式版相差不多。
  - `patch`：补丁，常用于没有 Issues 时的修锅，在正式版发布后发布。

举例：`1.1.4-alpha.5` 表示第一个大版本，第一次功能更新，第四次错误修复的第五个预览版。

## 编译版本

本版本号规则从 `1.1.0-beta.1` 发布前的第一次内部预览版（`1.1.0.1.1.1`）开始实施。

编译版本的版本号为 `[Major].[Minor].[Releses].[Build].[Typenum].[x]`，使用 32 位二进制存储。

- `Major, Minor, Releases`：对应开源版本的这三个版本号，每个字段占 4 位二进制，共占 12 位二进制。
- `Build`：以 `1.1.0-beta.1` 发布前的第一次内部测试版为 1 的编译次数，占 15 位二进制。
- `Typenum`：为开源版本中 `Type` 的数字表示，占 1 位二进制。
- `x`：对应开源版本中的 `x`，占 4 位二进制。

编译版本的类型可分为内部预览版，内部测试版，公共预览版，公共测试版，发布测试版，预先发布版，正式发布版，补丁安装包及正式补丁版。

- 内部预览版：简称内预，不开源，`Typenum` 为 1，`x` 为下一个公共版本的 `x`。
- 内部调试版：简称内调，不开源，Build 号为 2 的倍数，`Typenum` 为 2，`x` 为下一个公共版本的 `x`。
- 内部测试版：简称内测，不开源，Build 号为 2 的倍数，`Typenum` 为 4，`x` 为下一个公共版本的 `x`。
- 公共预览版：简称公预，开源，对应开源版本中的 `alpha`，Build 号为 4 的倍数，`Typenum` 为 6，`x` 为对应 `alpha` 开源版本的 `x`。
- 公共测试版：简称公测，开源，对应开源版本中的 `beta`，Build 号为 4 的倍数，`Typenum` 为 8，`x` 为对应 `beta` 开源版本的 `x`。
- 预先发布版：简称预发，开源，对应开源版本中的 `rc`，Build 号为 8 的倍数，`Typenum` 为 10，`x` 为对应 `rc` 开源版本的 `x`。
- 正式发布版：简称正式，开源，对应开源版本中的正式版，Build 号为 8 的倍数，`Typenum` 为 16，`x` 为 0。
- 补丁安装包：简称补丁，开源，对应开源版本中的 `patch`，Build 号为 8 的倍数，`Typenum` 为 12，`x` 为对应 `patch` 开源版本的 `x`。
- 补丁正式版：简称补正，开源，对应开源版本中的 `patch`，Build 号为 8 的倍数，`Typenum` 为 14，`x` 为对应 `patch` 开源版本的 `x`。

举例：`1.9.1.98.1.0` 表示 `1.9.1` 版，第 98 次编译，属于正式版发布前的内部预览版。

## 补丁编号

补丁编号为 `KB[Number][Major][Minor][Type]`

- `Number`：以第一个补丁为 1 的补丁发布次数，占三位。
- `Major`：该补丁针对的版本号中的 `Major` 段，占一位。
- `Minor`：该补丁针对的版本号中的 `Minor` 段，占两位。
- `Type`：该补丁的类型，占一位。
  - 补丁安装包：2
  - 补丁正式版：4

举例：`KB1145014` 表示第 114 个补丁，针对 `5.1` 版发布的，为补丁正式版。